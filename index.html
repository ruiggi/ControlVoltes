<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VOLTES</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#333">
    <link rel="icon" href="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDdWMTJIMTdNMjEgMTJDMjEgMTYuOTcwNiAxNi45NzA2IDIxIDEyIDIxQzcuMDI5NDQgMjEgMyAxNi45NzA2IDMgMTJDMyA3LjAyOTQ0IDcuMDI5NDQgMyAxMiAzQzE2Ljk3MDYgMyAyMSA3LjAyOTQ0IDIxIDEyWiIgc3Ryb2tlPSIjZjBmMGYwIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjwvc3ZnPg==">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjQgMjQiIGZpbGw9IiNmMGYwZjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDdWMTJIMTdNMjEgMTJDMjEgMTYuOTcwNiAxNi45NzA2IDIxIDEyIDIxQzcuMDI5NDQgMjEgMyAxNi45NzA2IDMgMTJDMyA3LjAyOTQ0IDcuMDI5NDQgMyAxMiAzQzE2Ljk3MDYgMyAyMSA3LjAyOTQ0IDIxIDEyWiIgc3Ryb2tlPSIjZjBmMGYwIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjwvc3ZnPg==">
</head>
<body>
    <div id="main-container" style="position: relative;">
        <div id="app-title">
            <div class="title-left">
                <span>VOLTES</span>
            </div>
            <div id="header-actions" style="display:flex; align-items:center; gap:8px;">
                <button id="install-btn" style="display:none; align-items:center; gap:6px; padding:4px 8px; border-radius:6px; border:1px solid #0d6efd; background:#0d6efd; color:#fff; font-weight:700; cursor:pointer;">INSTALAR</button>
                <div id="wake-toggle" role="switch" aria-checked="false" tabindex="0" title="Mantener pantalla activa">
                    <span id="wake-label"></span>
                    <span id="wake-indicator" style="width:34px; height:20px; display:inline-flex; align-items:center; padding:2px; border-radius:999px; background:#666; box-sizing:border-box;">
                        <span style="width:16px; height:16px; border-radius:50%; background:#bbb; transform: translateX(0); transition: transform .2s, background .2s;"></span>
                    </span>
                </div>
                <div id="toggle-view-btn"></div>
            </div>
        </div>
        <div id="registration-view" style="display: block;">
            <div id="clock-container">
                <div id="clock" aria-live="polite" aria-atomic="true">00:00:00.000</div>
            </div>
            <div id="summary-container">
                <div class="summary-item">
                    <span>Trabajo</span>
                    <strong id="total-work" aria-live="polite" aria-atomic="true">0:00:00.000</strong>
                </div>
                <div class="summary-item">
                    <span>Reposo</span>
                    <strong id="total-rest" aria-live="polite" aria-atomic="true">0:00:00.000</strong>
                </div>
                <div class="summary-item">
                    <span>Total</span>
                    <strong id="total-time" aria-live="polite" aria-atomic="true">0:00:00.000</strong>
                </div>
            </div>
            <div id="controls-container">
                <button id="finalize-btn" class="control-btn">PREM EL RELLOTGE PER COMENÇAR</button>
                <button id="force-install-btn" class="control-btn" style="display:none; margin-top:8px;">Instalar app</button>
            </div>
            <div id="laps-container">
                <!-- Las vueltas se añadirán aquí dinámicamente -->
            </div>
        </div>
        <div id="sessions-view" style="display: none;">
            <div id="sessions-container">
                <h2>SESSIONS GUARDADES</h2>
                <div id="sessions-list">
                    <!-- Las sesiones guardadas se añadirán aquí -->
                </div>
            </div>
        </div>
    </div>
    <script src="scripts.js"></script>
</body>
</html>